<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>title | Hexo</title><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="title"><meta name="application-name" content="title"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="title"><meta property="og:url" content="http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="三维空间刚体运动刚体在物理学里，理想刚体（英语：Rigid body或Rigid object）是一种有限尺寸，可以忽略形变的固体。不论是否感受到外力，在刚体内部，质点与质点之间的距离都不会改变。这种理想模型适用条件是，运动过程比固体中的弹性波的传播要缓慢得多。根据相对论，这种物体不可能实际存在，但"><meta property="og:locale" content="en"><meta property="og:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta property="article:author" content="John Doe"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"><meta name="description" content="三维空间刚体运动刚体在物理学里，理想刚体（英语：Rigid body或Rigid object）是一种有限尺寸，可以忽略形变的固体。不论是否感受到外力，在刚体内部，质点与质点之间的距离都不会改变。这种理想模型适用条件是，运动过程比固体中的弹性波的传播要缓慢得多。根据相对论，这种物体不可能实际存在，但"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"Author: John Doe","link":"Link: ","source":"Source: Hexo","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Hexo',
  title: 'title',
  postAI: '',
  pageFillDescription: '三维空间刚体运动, 刚体, 刚体运动(PART1 旋转矩阵), Preparation：, 1.向量内外积(点乘与叉乘), Research 1：运动描述方式, 1.1旋转矩阵, 1.2旋转向量, 1.3四元数, 1.加法和减法, 2.乘法, 3.模长, 4.共轭, 5.逆, 6.数乘, 1.4其他变换, 刚体运动(PART2 李群与李代数), Preparation：, 1.群(Group), 1.封闭性：, 2.结合律：, 3.幺元：, 4.逆：, 2.李代数, 1.封闭性：, 2.双线性：, 3.自反性：, 4.雅可比等价：, 3.矩阵求导, Research 2：李群与李代数三维空间刚体运动刚体在物理学里理想刚体英语或是一种有限尺寸可以忽略形变的固体不论是否感受到外力在刚体内部质点与质点之间的距离都不会改变这种理想模型适用条件是运动过程比固体中的弹性波的传播要缓慢得多根据相对论这种物体不可能实际存在但物体通常可以假定为完美刚体前提是必须满足运动速度远小于光速的条件在经典力学里刚体通常被视为连续质量分布体在量子力学里刚体被视为一群粒子的聚集例如分子由假定为质点的电子与核子组成时常会被视为刚体刚体运动旋转矩阵向量内外积点乘与叉乘对于两个向量内积表达式为外积表达式为是指的夹角内积可以看作在上的投影外积代表和张成的平行四边形的面积外积可以用反对称矩阵乘的形式运动描述方式旋转矩阵机器人学中世界坐标系与移动坐标系之间需要进行转换我们需要一种数学手段来描述这个关系刚体机器人两坐标系的变换在空间中通过平移和旋转进行变换这种变换称为欧式变换我们首先考虑旋转变换设坐标系经过旋转变换后原坐标系基向量转变成通过向量不变得出以下恒等关系式等式两边同时左乘左边只剩下在变换前坐标系下的坐标向量我们得到变换后坐标系下的坐标在变换前坐标系下的坐标描述旋转的矩阵被称为旋转矩阵该矩阵各分量是两个坐标系的内积由于单位矩阵相乘模为所以是各基向量夹角的余弦值也被称为方向余弦矩阵旋转矩阵的本质是一个行列式为的正交矩阵下面我们同时考虑旋转和平移一个比较直观的想法就是通过旋转矩阵和向量加法实现但如下式所示经过两次平移和旋转变换产生坐标向量但是这种处理方案容易造成计算繁琐我们较为容易想到升维的方式将整个操作变为线性操作在矩阵中就是扩充一维矩阵将原始二维坐标扩充为三维齐次坐标将旋转矩阵扩充为包含旋转和平移操作的的变换矩阵求解该矩阵的逆表示一个反向的变换旋转向量在旋转矩阵中我们使用矩阵表示欧式变换在这种情况下我们使用个分量表示自由度的运动在计算机计算过程中容易增加内存开销所以我们考虑用三维向量描述旋转这里我们采用的方法是通过三维向量表达三维向量旋转所绕旋转轴的位置通过向量的大小表达旋转的角度大小从旋转向量到旋转矩阵的变换由罗德里格斯公式表明公式如下其中为转轴的单位方向向量是向量到反对称矩阵的转换符通过等式两边取迹我们也可以得到由旋转矩阵到旋转向量的变换四元数所有采用三个实数表达旋转的方法都会不可避免地产生奇异性问题即使原有系统丢失一个或几个自由度在旋转向量中当旋转或时旋转轴可以任意选择丢失三个自由度旋转这个概念在复数中也有出现复数的乘法表示复平面上的旋转在二维情况下旋转可以使用单位复数来描述在三维空间中我们借助此概念使用单位四元数来描述一个四元数拥有一个实部和三个虚部其中满足以下关系把看成三个坐标轴他们与自己的乘法和复数相同相互之间的乘法与外积相同也可以用一个标量和一个向量表达四元数如下其中称为四元数的实部称为四元数的虚部只含的四元数被称为实四元数只含的四元数被称为虚四元数其运算规则如下加法和减法四元数的加减运算为乘法乘法是将分别相乘再相加可以通过向量形式和向量的内外积表示模长模长满足乘积的模等于模的乘积共轭共轭相乘等于模的平方逆按照逆的定义逆与其自身相乘等于实四元数并且单位四元数的逆和共轭相同且有与矩阵相同的性质数乘我们通过四元数描述旋转把三维空间点用一个虚四元数描述旋转后的点可表示为证明其他变换除了欧式变换还存在其他几种变换方式具体的总结如下表格转换名称矩阵形式自由度不变性质欧氏变换长度夹角体积相似变换体积比仿射变换平行性体积比射影变换接触平面的相交和相切刚体运动李群与李代数群群是一种集合加上一种运算的代数结构代表在集合上进行运算群满足以下几个条件封闭性结合律幺元逆常见的群有一般线性群指的可逆矩阵它们对矩阵乘法成群特殊正交群指旋转矩阵群它们对矩阵乘法成群特殊欧式群指欧式变换矩阵群它们对矩阵乘法成群李群是具有连续光滑性质的群群结构保证了在群上的运算具有良好的性质李代数李代数由一个集合一个数域和一个二元运算组成李代数用符号表示其满足以下性质封闭性双线性有自反性雅可比等价每个李群都有与之对应的李代数李代数描述了单位元附近的正切空间矩阵求导矩阵求导规则如下李群与李代数和都在实数空间上是连续的所以为具有连续光滑性质的李群我们知道和满足矩阵乘法而对加法不封闭所以我们难以定义微分的概念我们需要引出李代数的概念将李群的乘法转换为李代数的加法从而实现李群的微分计算由于旋转矩阵为反对称矩阵满足如下式子在等式两边对时间求导可以看出是一个反对称矩阵我们可以找到一个三维的向量与之对应等式右乘可得到以下式子由于反映了的导数的性质故称它为求导点附近的正切空间我们求解微分方程得到下面我们通过李代数定义实现上式的计算已知是定义在上的向量我们在此集合上定义李括号为验证由验证知事实上是的李代数其定义如下与的关系由指数映射给定我们通过泰勒展开定义其指数映射该式无法直接计算我们将三维向量用模长和方向向量表示我们发现方向向量具有如下的性质我们将指数映射泰勒级数展开我们发现该式与罗德里格斯公式相同这表明就是旋转向量组成的空间而指数映射就是罗德里格斯公式我们也可以定义对数映射将的元素对应到中该式泰勒展开计算过于繁琐我们可以通过迹的性质反求转角和转轴简化计算需要注意的是指数映射是到的满射而不是单射也就是说中的元素都可以在中找到一个映射元素但反之不可我们也可以理解为旋转角多转相当于没有旋转它具有周期性我们只需要将角度固定在之间即可保证一一对应回到一开始的问题定义李代数的概念是为了对李群进行求导由于李群对加法不封闭我们将其映射到李代数上进行求导两个指数映射乘积与李代数的关系由公式给出公式告诉我们两个指数映射乘积并不能直接映射为两个李代数元素的加法而是产生了由李括号组成的余项特别地考虑上的李代数当和其中一个为小量时小量二次以上的项都可以忽略此时拥有近似线性表达当为小量当为小量在小量近似下公式被分为左乘和右乘小量两种形式左乘近似雅可比和右乘近似雅可比如下通过近似我们将李群中元素和小量的乘法映射到李代数中元素和带近似雅可比矩阵小量的加法于是我们可以定义李群的导数第一种定义是直接利用李代数加法求导第二种定义是对进行一次扰动看结果相对于扰动的变化率扰动有左乘和右乘两种方式我们首先看左扰动我们一般使用扰动模型因为省去了雅可比近似矩阵的计算继续分析上的指数映射和李代数定义对应的李代数定义上的李括号定义为上的指数映射为指数映射矩阵处即的指数映射矩阵处计算如下处可以由旋转向量方便求得处可以由以下的线性方程接着我们定义的扰动模型如下',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-11 05:58:47',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Hexo</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">February 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">title</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-02-07T16:15:20.386Z" title="Created 2025-02-07 16:15:20">2025-02-07</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-02-11T05:58:47.560Z" title="Updated 2025-02-11 05:58:47">2025-02-11</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/"><header><h1 id="CrawlerTitle" itemprop="name headline">title</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">John Doe</span><time itemprop="dateCreated datePublished" datetime="2025-02-07T16:15:20.386Z" title="Created 2025-02-07 16:15:20">2025-02-07</time><time itemprop="dateCreated datePublished" datetime="2025-02-11T05:58:47.560Z" title="Updated 2025-02-11 05:58:47">2025-02-11</time></header><h1 id="三维空间刚体运动"><a href="#三维空间刚体运动" class="headerlink" title="三维空间刚体运动"></a>三维空间刚体运动</h1><h2 id="刚体"><a href="#刚体" class="headerlink" title="刚体"></a>刚体</h2><p>在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%89%A9%E7%90%86%E5%AD%A6" title="物理学">物理学</a>里，理想<strong>刚体</strong>（英语：Rigid body或Rigid object）是一种有限尺寸，可以忽略<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BD%A2%E8%AE%8A" title="形变">形变</a>的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9B%BA%E4%BD%93" title="固体">固体</a>。不论是否感受到<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BD%9C%E7%94%A8%E5%8A%9B" title="作用力">外力</a>，在刚体内部，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B3%AA%E9%BB%9E" title="质点">质点</a>与质点之间的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B7%9D%E7%A6%BB" title="距离">距离</a>都不会改变。这种理想模型适用条件是，运动过程比固体中的弹性波的传播要缓慢得多。根据<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%9B%B8%E5%B0%8D%E8%AB%96" title="相对论">相对论</a>，这种物体不可能实际存在，但物体通常可以假定为完美刚体，前提是必须满足运动速度远小于<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%89%E9%80%9F" title="光速">光速</a>的条件。</p>
<p>在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BB%8F%E5%85%B8%E5%8A%9B%E5%AD%A6" title="经典力学">经典力学</a>里，刚体通常被视为连续质量分布体；在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%87%8F%E5%AD%90%E5%8A%9B%E5%AD%A6" title="量子力学">量子力学</a>里，刚体被视为一群粒子的聚集。例如，<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%88%86%E5%AD%90" title="分子">分子</a>（由假定为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B3%AA%E9%BB%9E" title="质点">质点</a>的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%94%B5%E5%AD%90" title="电子">电子</a>与<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%A0%B8%E5%AD%90" title="核子">核子</a>组成）时常会被视为刚体。</p>
<h2 id="刚体运动-PART1-旋转矩阵"><a href="#刚体运动-PART1-旋转矩阵" class="headerlink" title="刚体运动(PART1 旋转矩阵)"></a>刚体运动(PART1 旋转矩阵)</h2><h3 id="Preparation："><a href="#Preparation：" class="headerlink" title="Preparation："></a>Preparation：</h3><h4 id="1-向量内外积-点乘与叉乘"><a href="#1-向量内外积-点乘与叉乘" class="headerlink" title="1.向量内外积(点乘与叉乘)"></a>1.向量内外积(点乘与叉乘)</h4><p>对于a,b两个向量，<br>内积表达式为</p>
<p>$\boldsymbol{a}\cdot\boldsymbol{b}=\boldsymbol{a}^\mathrm{T}\boldsymbol{b}=\sum_{i=1}^3a_ib_i=|\boldsymbol{a}||\boldsymbol{b}|\cos\left\langle\boldsymbol{a},\boldsymbol{b}\right\rangle$</p>
<p>外积表达式为</p>
<script type="math/tex; mode=display">
a\times b=
\begin{Vmatrix}
e_1 & e_2 & e_3 \\
\\
a_1 & a_2 & a_3 \\
\\
b_1 & b_2 & b_3
\end{Vmatrix}=
\begin{bmatrix}
a_2b_3-a_3b_2 \\
\\
a_3b_1-a_1b_3 \\
\\
a_1b_2-a_2b_1
\end{bmatrix}=
\begin{bmatrix}
0 & -a_3 & a_2 \\
\\
a_3 & 0 & -a_1 \\
\\
-a_2 & a_1 & 0
\end{bmatrix}b\overset{\mathrm{def}}{\operatorname*{=}}a^{\wedge}b</script><p>$\langle a,b\rangle$是指a,b的夹角。内积可以看作b在a上的投影，外积代表a和b张成的平行四边形的面积。外积可以用反对称矩阵a^{\uparrow}乘b的形式。</p>
<h3 id="Research-1：运动描述方式"><a href="#Research-1：运动描述方式" class="headerlink" title="Research 1：运动描述方式"></a>Research 1：运动描述方式</h3><h4 id="1-1旋转矩阵"><a href="#1-1旋转矩阵" class="headerlink" title="1.1旋转矩阵"></a>1.1旋转矩阵</h4><p>机器人学中世界坐标系与移动坐标系之间需要进行转换，我们需要一种数学手段来描述这个关系。刚体机器人两坐标系的变换在空间中通过平移和旋转进行变换，这种变换称为欧式变换。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://chenrenrui.tech/img/25/2/image_0d51663e503ab30854b33d338eb6237f.png" alt="欧式变换示意图"></p>
<p>我们首先考虑旋转变换，设坐标系经过旋转变换后原坐标系基向量$(e_1, e_2, e_3)$转变成$(e_1’, e_2’, e_3’)$，通过向量不变，得出以下恒等关系式</p>
<script type="math/tex; mode=display">
[\boldsymbol{e}_1,\boldsymbol{e}_2,\boldsymbol{e}_3]
\begin{bmatrix}
a_1 \\
 \\
a_2 \\
 \\
a_3
\end{bmatrix}=[\boldsymbol{e}_1^{\prime},\boldsymbol{e}_2^{\prime},\boldsymbol{e}_3^{\prime}]
\begin{bmatrix}
a_1^{\prime} \\
 \\
a_2^{\prime} \\
 \\
a_3^{\prime}
\end{bmatrix}</script><p>等式两边同时左乘$\left[\begin{array}{c} e_1^\top \ e_2^\top \ e_3^\top \end{array}\right]$，左边只剩下在变换前坐标系下的坐标向量</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
a_1 \\
 \\
a_2 \\
 \\
a_3
\end{bmatrix}=
\begin{bmatrix}
e_1^\mathrm{T}e_1^{\prime} & e_1^\mathrm{T}e_2^{\prime} & e_1^\mathrm{T}e_3^{\prime} \\
e_2^\mathrm{T}e_1^{\prime} & e_2^\mathrm{T}e_2^{\prime} & e_2^\mathrm{T}e_3^{\prime} \\
e_3^\mathrm{T}e_1^{\prime} & e_3^\mathrm{T}e_2^{\prime} & e_3^\mathrm{T}e_3^{\prime}
\end{bmatrix}
\begin{bmatrix}
a_1^{\prime} \\
 \\
a_2^{\prime} \\
 \\
a_3^{\prime}
\end{bmatrix}\overset{\mathrm{def}}{\operatorname*{=}}Ra^{\prime}</script><p>我们得到变换后坐标系下的坐标在变换前坐标系下的坐标，描述旋转的矩阵R被称为旋转矩阵。该矩阵各分量是两个坐标系的内积，由于单位矩阵相乘模为1，所以是各基向量夹角的余弦值，也被称为方向余弦矩阵。旋转矩阵的本质是一个行列式为1的正交矩阵。</p>
<p>下面我们同时考虑旋转和平移，一个比较直观的想法就是通过旋转矩阵和向量加法实现，但如下式所示，经过两次平移和旋转变换产生坐标向量c，但是这种处理方案容易造成计算繁琐。</p>
<p>$b=R_1a+t_1,\quad c=R_2b+t_2$<br>$c=R_2\left(R_1a+t_1\right)+t_2$</p>
<p>我们较为容易想到升维的方式将整个操作变为线性操作，在矩阵中就是扩充一维矩阵，将原始二维坐标扩充为三维齐次坐标，将旋转矩阵扩充为包含旋转和平移操作的2×2的变换矩阵。</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
a^{\prime} \\
 \\
1
\end{bmatrix}=
\begin{bmatrix}
R & t \\
 \\
\mathbf{0}^\mathrm{T} & 1
\end{bmatrix}
\begin{bmatrix}
a \\
 \\
1
\end{bmatrix}\overset{\mathrm{def}}{\operatorname*{=}}T
\begin{bmatrix}
a \\
 \\
1
\end{bmatrix}</script><p>求解该矩阵的逆表示一个反向的变换，</p>
<script type="math/tex; mode=display">
T^{-1}=
\begin{bmatrix}
R^\mathrm{T} & -R^\mathrm{T}t \\
 \\
0^\mathrm{T} & 1
\end{bmatrix}</script><h4 id="1-2旋转向量"><a href="#1-2旋转向量" class="headerlink" title="1.2旋转向量"></a>1.2旋转向量</h4><p>在旋转矩阵中，我们使用4×4矩阵表示欧式变换，在这种情况下我们使用16个分量表示6自由度的运动，在计算机计算过程中容易增加内存开销。所以我们考虑用三维向量描述旋转。这里我们采用的方法是通过三维向量表达三维向量旋转所绕旋转轴的位置，通过向量的大小表达旋转的角度大小。从旋转向量到旋转矩阵的变换由罗德里格斯公式（Rodrigues’ Formula）表明，公式如下</p>
<p>$\boldsymbol{R}=\cos\theta\boldsymbol{I}+\left(1-\cos\theta\right)\boldsymbol{n}\boldsymbol{n}^\mathrm{T}+\sin\theta\boldsymbol{n}^\mathrm{\wedge}$</p>
<p>其中，n为转轴的单位方向向量，^是向量到反对称矩阵的转换符，通过等式两边取迹，我们也可以得到由旋转矩阵到旋转向量的变换</p>
<script type="math/tex; mode=display">
\begin{aligned}
\mathrm{tr}\left(R\right) & =\cos\theta\operatorname{tr}\left(\boldsymbol{I}\right)+\left(1-\cos\theta\right)\operatorname{tr}\left(\boldsymbol{n}\boldsymbol{n}^\mathrm{T}\right)+\sin\theta\operatorname{tr}(\boldsymbol{n}^\mathrm{\wedge}) \\
& =3\cos\theta+(1-\cos\theta) \\
& =1+2\cos\theta
\end{aligned}</script><p>$\theta=\arccos\frac{\mathrm{tr}(\boldsymbol{R})-1}{2}$</p>
<h4 id="1-3四元数"><a href="#1-3四元数" class="headerlink" title="1.3四元数"></a>1.3四元数</h4><p>所有采用三个实数表达旋转的方法都会不可避免地产生奇异性问题，即使原有系统丢失一个或几个自由度。在旋转向量中，当旋转0°或360°时，旋转轴可以任意选择，丢失三个自由度。</p>
<p>旋转这个概念在复数中也有出现，复数的乘法表示复平面上的旋转。在二维情况下，旋转可以使用单位复数来描述，在三维空间中，我们借助此概念使用单位四元数来描述。</p>
<p>一个四元数拥有一个实部和三个虚部。</p>
<p>$q=q_0+q_1\mathrm{i}+\mathrm{q}_2\mathrm{j}+\mathrm{q}_3\mathrm{k}$</p>
<p>其中，i、j、k满足以下关系</p>
<script type="math/tex; mode=display">
\begin{cases}
\mathrm{i^2=j^2=k^2=-1} \\
\mathrm{ij=k,ji=-k} \\
\mathrm{jk=i,kj=-i} \\
\mathrm{ki=j,ik=-j} &
\end{cases}</script><p>把i、j、k看成三个坐标轴，他们与自己的乘法和复数相同，相互之间的乘法与外积相同。</p>
<p>也可以用一个标量和一个向量表达四元数，如下<br>$\boldsymbol{q}=[s,\boldsymbol{v}]^\mathrm{T},\quad s=q_0\in\mathbb{R},\quad\boldsymbol{v}=[q_1,q_2,q_3]^\mathrm{T}\in\mathbb{R}^3$</p>
<p>其中，s称为四元数的实部，v称为四元数的虚部，只含s的四元数被称为实四元数，只含v的四元数被称为虚四元数。</p>
<p>其运算规则如下</p>
<h5 id="1-加法和减法"><a href="#1-加法和减法" class="headerlink" title="1.加法和减法"></a>1.加法和减法</h5><p>四元数$q_a$,$q_b$的加减运算为<br>$\boldsymbol{q}_a\pm\boldsymbol{q}_b=\left[s_a\pm s_b,\boldsymbol{v}_a\pm\boldsymbol{v}_b\right]^\mathrm{T}$</p>
<h5 id="2-乘法"><a href="#2-乘法" class="headerlink" title="2.乘法"></a>2.乘法</h5><p>乘法是将 $q_a$,$q_b$ 分别相乘再相加，</p>
<script type="math/tex; mode=display">
\begin{aligned}
q_{a}q_{b}= & s_as_b-x_ax_b-y_ay_b-z_az_b \\
& +(s_ax_b+x_as_b+y_az_b-z_ay_b)\mathrm{~i} \\
& +\left(s_ay_b-x_az_b+y_as_b+z_ax_b\right)\mathrm{j} \\
& +\left(s_az_b+x_ay_b-y_ax_b+z_as_b\right)\mathrm{k}
\end{aligned}</script><p>可以通过向量形式和向量的内外积表示</p>
<script type="math/tex; mode=display">
\boldsymbol{q}_a\boldsymbol{q}_b=
\begin{bmatrix}
s_as_b-\boldsymbol{v}_a^\mathrm{T}\boldsymbol{v}_b,s_a\boldsymbol{v}_b+s_b\boldsymbol{v}_a+\boldsymbol{v}_a\times\boldsymbol{v}_b
\end{bmatrix}^\mathrm{T}</script><h5 id="3-模长"><a href="#3-模长" class="headerlink" title="3.模长"></a>3.模长</h5><p>$|q_a|=\sqrt{s_a^2+x_a^2+y_a^2+z_a^2}$<br>模长满足乘积的模等于模的乘积<br>$|\boldsymbol{q}_a\boldsymbol{q}_b|=|\boldsymbol{q}_a||\boldsymbol{q}_b|$</p>
<h5 id="4-共轭"><a href="#4-共轭" class="headerlink" title="4.共轭"></a>4.共轭</h5><p>$q_a^*=s_a-x_a\mathrm{i}-\mathrm{y}_a\mathrm{j}-\mathrm{z}_a\mathrm{k}=[\mathrm{s}_a,-\mathrm{v}_a]^\mathrm{T}$</p>
<p>共轭相乘等于模的平方</p>
<p>$q^*q=[s_a^2+v^\mathrm{T}v,0]^\mathrm{T}$</p>
<h5 id="5-逆"><a href="#5-逆" class="headerlink" title="5.逆"></a>5.逆</h5><p>$q^{-1}=q^*/|q|^2$<br>按照逆的定义逆与其自身相乘等于实四元数1</p>
<p>$qq^{-1}=q^{-1}q=1$</p>
<p>并且单位四元数的逆和共轭相同且有与矩阵相同的性质</p>
<p>$(\boldsymbol{q}_a\boldsymbol{q}_b)^{-1}=\boldsymbol{q}_b^{-1}\boldsymbol{q}_a^{-1}$</p>
<h5 id="6-数乘"><a href="#6-数乘" class="headerlink" title="6.数乘"></a>6.数乘</h5><p>$\mathrm{k}\boldsymbol{q}=\left[\mathrm{k}s,\mathrm{k}\boldsymbol{v}\right]^\mathrm{T}$</p>
<p>我们通过四元数描述旋转，把三维空间点p用一个虚四元数描述，</p>
<p>$\boldsymbol{p}=[0,x,y,z]^\mathrm{T}=[0,\boldsymbol{v}]^\mathrm{T}$</p>
<p>旋转后的点p’可表示为，</p>
<p>$p^{\prime}=qpq^{-1}$</p>
<p>证明：</p>
<p>$\boldsymbol{q}=[s,\boldsymbol{v}]^\mathrm{T},\quad\boldsymbol{v}=[q_1,q_2,q_3]^\mathrm{T}\in\mathbb{R}^3$<br>$q^{-1}=[s,-\boldsymbol{v}]/|q|^2$</p>
<h4 id="1-4其他变换"><a href="#1-4其他变换" class="headerlink" title="1.4其他变换"></a>1.4其他变换</h4><p>除了欧式变换，还存在其他几种变换方式。具体的总结如下表格</p>
<script type="math/tex; mode=display">
\begin{array}{c c c c}
\hline 
\textbf{转换名称} & \textbf{矩阵形式} & \textbf{自由度} & \textbf{不变性质} \\
\hline
\text{欧氏变换} & \left[\begin{array}{cc} R & t \\ 0^T & 1 \end{array}\right] & 6 & \text{长度、夹角、体积} \\
\text{相似变换} & \left[\begin{array}{cc} sR & t \\ 0^T & 1 \end{array}\right] & 7 & \text{体积比} \\
\text{仿射变换} & \left[\begin{array}{cc} A & t \\ 0^T & 1 \end{array}\right] & 12 & \text{平行性、体积比} \\
\text{射影变换} & \left[\begin{array}{cc} A & t \\ a^T & v \end{array}\right] & 15 & \text{接触平面的相交和相切} \\
\hline \hline
\end{array}</script><h2 id="刚体运动-PART2-李群与李代数"><a href="#刚体运动-PART2-李群与李代数" class="headerlink" title="刚体运动(PART2 李群与李代数)"></a>刚体运动(PART2 李群与李代数)</h2><h3 id="Preparation：-1"><a href="#Preparation：-1" class="headerlink" title="Preparation："></a>Preparation：</h3><h4 id="1-群-Group"><a href="#1-群-Group" class="headerlink" title="1.群(Group)"></a>1.群(Group)</h4><p>群是一种集合加上一种运算的代数结构，$G=(A,\cdot)$代表在集合A上进行$\cdot$运算。群满足以下几个条件：</p>
<h5 id="1-封闭性："><a href="#1-封闭性：" class="headerlink" title="1.封闭性："></a>1.封闭性：</h5><p>$\forall a_1,a_2\in A,\quad a_1\cdot a_2\in A$</p>
<h5 id="2-结合律："><a href="#2-结合律：" class="headerlink" title="2.结合律："></a>2.结合律：</h5><p>$\forall a_1,a_2,a_3\in A,\quad(a_1\cdot a_2)\cdot a_3=a_1\cdot(a_2\cdot a_3)$</p>
<h5 id="3-幺元："><a href="#3-幺元：" class="headerlink" title="3.幺元："></a>3.幺元：</h5><p>$\exists a_0\in A,\quad\mathrm{s.t.}\quad\forall a\in A,\quad a_0\cdot a=a\cdot a_0=a$</p>
<h5 id="4-逆："><a href="#4-逆：" class="headerlink" title="4.逆："></a>4.逆：</h5><p>$\forall a\in A,\quad\exists a^{-1}\in A,\quad\mathrm{s.t.}\quad a\cdot a^{-1}=a_{0}$</p>
<p>常见的群有：</p>
<ul>
<li>一般线性群$\mathrm{GL}(n)$ 指n×n的可逆矩阵，它们对矩阵乘法成群。</li>
<li>特殊正交群$\mathrm{SO}(n)$ 指旋转矩阵群，它们对矩阵乘法成群。</li>
<li>特殊欧式群$\mathrm{SE}(n)$ 指欧式变换矩阵群，它们对矩阵乘法成群。</li>
</ul>
<p>李群是具有连续（光滑）性质的群。群结构保证了在群上的运算具有良好的性质。</p>
<h4 id="2-李代数"><a href="#2-李代数" class="headerlink" title="2.李代数"></a>2.李代数</h4><p>李代数由一个集合$\mathbb{V}$、一个数域$\mathbb{F}$和一个二元运算$\left[,\right]$组成。李代数用符号$(\mathbb{V},\mathbb{F},[,])$表示。其满足以下性质。</p>
<h5 id="1-封闭性：-1"><a href="#1-封闭性：-1" class="headerlink" title="1.封闭性："></a>1.封闭性：</h5><p>$\forall\boldsymbol{X},\boldsymbol{Y}\in\mathbb{V},[\boldsymbol{X},\boldsymbol{Y}]\in\mathbb{V}$</p>
<h5 id="2-双线性："><a href="#2-双线性：" class="headerlink" title="2.双线性："></a>2.双线性：</h5><p>$\forall X,Y,Z\in\mathbb{V},a,b\in\mathbb{F}，$有<br>$[a\mathbf{X}+b\mathbf{Y},\boldsymbol{Z}]=a[\boldsymbol{X},\boldsymbol{Z}]+b[\boldsymbol{Y},\boldsymbol{Z}],\quad[\boldsymbol{Z},a\boldsymbol{X}+b\boldsymbol{Y}]=a[\boldsymbol{Z},\boldsymbol{X}]+b[\boldsymbol{Z},\boldsymbol{Y}]$</p>
<h5 id="3-自反性："><a href="#3-自反性：" class="headerlink" title="3.自反性："></a>3.自反性：</h5><p>$\forall X\in\mathbb{V},[X,X]=0$</p>
<h5 id="4-雅可比等价："><a href="#4-雅可比等价：" class="headerlink" title="4.雅可比等价："></a>4.雅可比等价：</h5><p>$\forall X,Y,Z\in\mathbb{V},[X,[Y,Z]]+[Z,[X,Y]]+[Y,[Z,X]]=0$</p>
<p>每个李群都有与之对应的李代数。李代数描述了单位元附近的正切空间。</p>
<h4 id="3-矩阵求导"><a href="#3-矩阵求导" class="headerlink" title="3.矩阵求导"></a>3.矩阵求导</h4><p>矩阵求导规则如下</p>
<script type="math/tex; mode=display">
\begin{aligned}
 & \frac{\mathrm{d}
\begin{bmatrix}
a \\
b
\end{bmatrix}}{\mathrm{d}
\begin{bmatrix}
x \\
y
\end{bmatrix}}=\left(\frac{\mathrm{d}[a,b]^\mathrm{T}}{\mathrm{d}
\begin{bmatrix}
x \\
y
\end{bmatrix}}\right)^\mathrm{T}=
\begin{bmatrix}
\frac{\mathrm{d}a}{\mathrm{d}x} & \frac{\mathrm{d}b}{\mathrm{d}x} \\
\frac{\mathrm{d}a}{\mathrm{d}y} & \frac{\mathrm{d}b}{\mathrm{d}y}
\end{bmatrix}^\mathrm{T}=
\begin{bmatrix}
\frac{\mathrm{d}a}{\mathrm{d}x} & \frac{\mathrm{d}a}{\mathrm{d}y} \\
\frac{\mathrm{d}b}{\mathrm{d}x} & \frac{\mathrm{d}b}{\mathrm{d}y}
\end{bmatrix}
\end{aligned}</script><h3 id="Research-2：李群与李代数"><a href="#Research-2：李群与李代数" class="headerlink" title="Research 2：李群与李代数"></a>Research 2：李群与李代数</h3><p>SO(n)和SE(n)都在实数空间上是连续的，所以为具有连续（光滑）性质的李群。</p>
<p>我们知道SO(n)和SE(n)满足矩阵乘法，而对加法不封闭，所以我们难以定义微分的概念。我们需要引出李代数的概念，将李群的乘法转换为李代数的加法，从而实现李群的微分计算。</p>
<p>由于旋转矩阵为反对称矩阵，满足如下式子<br>$RR^{\mathrm{T}}=I$<br>在等式两边对时间求导</p>
<script type="math/tex; mode=display">
\dot{\mathbf{R}}(t)=\boldsymbol{\phi}(t)^{\wedge}\mathbf{R}(t)=
\begin{bmatrix}
0 & -\phi_{3} & \phi_{2} \\
\phi_{3} & 0 & -\phi_{1} \\
-\phi_{2} & \phi_{1} & 0
\end{bmatrix}\mathbf{R}(t)</script><p>可以看出$\dot{\boldsymbol{R}}(t)\boldsymbol{R}(t)^\mathrm{T}$是一个反对称矩阵，我们可以找到一个三维的向量$\phi(t)\in\mathbb{R}^3$与之对应，等式右乘${R}(t)$，可得到以下式子</p>
<p>$\dot{\boldsymbol{R}}(t)=\boldsymbol{\phi}(t)^\wedge\boldsymbol{R}(t)=\boldsymbol{\phi}^\wedge\boldsymbol{R}(t)$</p>
<p>由于$\phi(t)$反映了$R$的导数的性质，故称它为SO(3)求导点附近的正切空间。</p>
<p>我们求解微分方程，得到<br>$\boldsymbol{R}(t)=\exp{(\boldsymbol{\phi}^{\wedge}t)}$</p>
<p>下面我们通过李代数定义，实现上式的计算</p>
<p>已知$\phi(t)$是定义在$R^3$上的向量，我们在此集合上定义李括号为</p>
<p>$[\phi_1,\phi_2]=(\boldsymbol{\Phi}_1\boldsymbol{\Phi}_2-\boldsymbol{\Phi}_2\boldsymbol{\Phi}_1)^\vee$</p>
<p>验证：</p>
<p>由验证知，$\phi(t)$事实上是SO(3)的李代数$\mathfrak{so}(3)$，其定义如下</p>
<p>$\mathfrak{so}(3) ={\phi\in\mathbb{R}^3,\boldsymbol{\Phi}=\phi^{\wedge}\in\mathbb{R}^{3\times3}}$</p>
<p>SO(3)与$\mathfrak{so}(3)$的关系由指数映射给定</p>
<p>$R=\exp(\phi^{\wedge})$</p>
<p>我们通过泰勒展开定义其指数映射</p>
<p>$\exp(\phi^{\wedge})=\sum_{n=0}^{\infty}\frac{1}{n!}(\phi^{\wedge})^{n}$</p>
<p>该式无法直接计算，我们将三维向量用模长和方向向量表示$\phi=\theta\boldsymbol{a}$</p>
<p>我们发现方向向量具有如下的性质</p>
<script type="math/tex; mode=display">
\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}=
\begin{bmatrix}
-a_2^2-a_3^2 & a_1a_2 & a_1a_3 \\
\\
a_1a_2 & -a_1^2-a_3^2 & a_2a_3 \\
\\
a_1a_3 & a_2a_3 & -a_1^2-a_2^2
\end{bmatrix}=\boldsymbol{a}\boldsymbol{a}^\mathrm{T}-\boldsymbol{I}</script><p>$a^\wedge a^\wedge a^\wedge=a^\wedge(aa^\mathrm{T}-I)=-a^\wedge$</p>
<p>我们将指数映射泰勒级数展开<br>$\exp\left(\phi^\wedge\right)=\exp\left(\theta\boldsymbol{a}^\wedge\right)=\sum_{n=0}^\infty\frac{1}{n!}\left(\theta\boldsymbol{a}^\wedge\right)^n$</p>
<script type="math/tex; mode=display">
\begin{aligned}
& =\boldsymbol{I}+\theta\boldsymbol{a}^{\wedge}+\frac{1}{2!}\theta^{2}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}+\frac{1}{3!}\theta^{3}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}+\frac{1}{4!}\theta^{4}(\boldsymbol{a}^{\wedge})^{4}+\cdots \\
& =\boldsymbol{a}\boldsymbol{a}^{\mathrm{T}}-\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}+\theta\boldsymbol{a}^{\wedge}+\frac{1}{2!}\theta^{2}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}-\frac{1}{3!}\theta^{3}\boldsymbol{a}^{\wedge}-\frac{1}{4!}\theta^{4}(\boldsymbol{a}^{\wedge})^{2}+\cdots \\
& =\boldsymbol{a}\boldsymbol{a}^{\mathrm{T}}+\underbrace{\left(\theta-\frac{1}{3!}\theta^{3}+\frac{1}{5!}\theta^{5}-\cdots\right)}_{\sin\theta}\boldsymbol{a}^{\wedge}-\underbrace{\left(1-\frac{1}{2!}\theta^{2}+\frac{1}{4!}\theta^{4}-\cdots\right)}_{\cos\theta}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge} \\
& =a^\wedge a^\wedge+I+\sin\theta\boldsymbol{a}^\wedge-\cos\theta\boldsymbol{a}^\wedge\boldsymbol{a}^\wedge \\
& =(1-\cos\theta)\boldsymbol{a}^\wedge\boldsymbol{a}^\wedge+\boldsymbol{I}+\sin\theta\boldsymbol{a}^\wedge \\
& =\cos\theta\boldsymbol{I}+(1-\cos\theta)\boldsymbol{aa}^\mathrm{T}+\sin\theta\boldsymbol{a}^\mathrm{\wedge}
\end{aligned}</script><p>我们发现该式与罗德里格斯公式相同。这表明，$\mathfrak{so}(3)$就是旋转向量组成的空间，而指数映射就是罗德里格斯公式。我们也可以定义对数映射，将SO(3)的元素对应到$\mathfrak{so}(3)$中：</p>
<p>$\phi=\ln\left(\boldsymbol{R}\right)^\vee=\left(\sum_{n=0}^\infty\frac{\left(-1\right)^n}{n+1}\left(\boldsymbol{R}-\boldsymbol{I}\right)^{n+1}\right)^\vee$</p>
<p>该式泰勒展开计算过于繁琐，我们可以通过迹的性质反求转角和转轴简化计算。</p>
<p>需要注意的是指数映射是SO(3)到$\mathfrak{so}(3)$的满射，而不是单射。也就是说SO(3)中的元素都可以在$\mathfrak{so}(3)$中找到一个映射元素，但反之不可。</p>
<p>我们也可以理解为旋转角多转360°相当于没有旋转，它具有周期性。我们只需要将角度固定在$\pm\pi$之间即可保证一一对应。</p>
<p>回到一开始的问题，定义李代数的概念是为了对李群进行求导，由于李群对加法不封闭，我们将其映射到李代数上进行求导。两个指数映射乘积与李代数的关系由BCH公式给出：</p>
<p>$\ln\left(\exp\left(A\right)\exp\left(B\right)\right)=A+B+\frac{1}{2}\left[A,B\right]+\frac{1}{12}\left[A,\left[A,B\right]\right]-\frac{1}{12}\left[B,\left[A,B\right]\right]+\cdots$</p>
<p>BCH公式告诉我们，两个指数映射乘积并不能直接映射为两个李代数元素的加法，而是产生了由李括号组成的余项。特别地，考虑SO(3)上的李代数$\ln\left(\exp\left(\phi_1^\wedge\right)\exp\left(\phi_2^\wedge\right)\right)^\vee$，当$\phi_1$和$\phi_2$其中一个为小量时，小量二次以上的项都可以忽略。此时，BCH拥有近似线性表达。</p>
<script type="math/tex; mode=display">
\ln\left(\exp\left(\phi_{1}^{\wedge}\right)\exp\left(\phi_{2}^{\wedge}\right)\right)^{\vee}\approx
\begin{cases}
J_{l}\left(\phi_{2}\right)^{-1}\phi_{1}+\phi_{2} & \text{当}\phi_{1}\text{为小量} \\
J_{r}\left(\phi_{1}\right)^{-1}\phi_{2}+\phi_{1} & \text{当}\phi_{2}\text{为小量} &
\end{cases}</script><p>在小量近似下，BCH公式被分为左乘和右乘小量两种形式。左乘近似雅可比和右乘近似雅可比如下</p>
<p>$\boldsymbol{J}_l=\boldsymbol{J}=\frac{\sin\theta}{\theta}\boldsymbol{I}+\left(1-\frac{\sin\theta}{\theta}\right)\boldsymbol{a}\boldsymbol{a}^\mathrm{T}+\frac{1-\cos\theta}{\theta}\boldsymbol{a}^\mathrm{\wedge}$</p>
<p>$\boldsymbol{J}_l^{-1}=\frac{\theta}{2}\cot\frac{\theta}{2}\boldsymbol{I}+\left(1-\frac{\theta}{2}\cot\frac{\theta}{2}\right)\boldsymbol{a}\boldsymbol{a}^\mathrm{T}-\frac{\theta}{2}\boldsymbol{a}^\mathrm{\wedge}$</p>
<p>$J_r(\phi)=J_l(-\phi)$</p>
<p>通过近似我们将李群中元素和小量的乘法，映射到李代数中元素和带近似雅可比矩阵小量的加法，于是我们可以定义李群的导数。</p>
<p>第一种定义是直接利用李代数加法求导，</p>
<script type="math/tex; mode=display">
\begin{aligned}
\frac{\partial\left(\exp\left(\phi^{\wedge}\right)\boldsymbol{p}\right)}{\partial\phi} & =\lim_{\delta\phi\to0}\frac{\exp\left(\left(\phi+\delta\phi\right)^{\wedge}\right)p-\exp\left(\phi^{\wedge}\right)p}{\delta\phi} \\
& =\lim_{\delta\phi\to0}\frac{\exp\left(\left(\boldsymbol{J}_l\delta\boldsymbol{\phi}\right)^\wedge\right)\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}}{\delta\phi} \\
& =\lim_{\delta\phi\to0}\frac{\left(\boldsymbol{I}+\left(\boldsymbol{J}_l\delta\boldsymbol{\phi}\right)^\wedge\right)\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}}{\delta\phi} \\
& =\lim_{\delta\boldsymbol{\phi}\to\mathbf{0}}\frac{\left(\boldsymbol{J}_l\delta\boldsymbol{\phi}\right)^\wedge\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}}{\delta\boldsymbol{\phi}} \\
& =\lim_{\delta\boldsymbol{\phi}\to\mathbf{0}}\frac{-(\exp\left(\phi^{\wedge}\right)\boldsymbol{p})^{\wedge}\boldsymbol{J}_{l}\delta\phi}{\delta\phi}=-(\boldsymbol{R}\boldsymbol{p})^{\wedge}\boldsymbol{J}_{l}.
\end{aligned}</script><p>第二种定义是对$R$进行一次扰动$\Delta R$，看结果相对于扰动的变化率。扰动有左乘和右乘两种方式，我们首先看左扰动</p>
<script type="math/tex; mode=display">
\begin{aligned}
\frac{\partial\left(Rp\right)}{\partial\varphi} & =\lim_{\varphi\to0}\frac{\exp\left(\varphi^{\wedge}\right)\exp\left(\phi^{\wedge}\right)p-\exp\left(\phi^{\wedge}\right)p}{\varphi} \\
& =\lim_{\varphi\to0}\frac{\left(\boldsymbol{I}+\boldsymbol{\varphi}^\wedge\right)\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}}{\varphi} \\
& =\lim_{\varphi\to0}\frac{\varphi^\wedge Rp}{\varphi}=\lim_{\varphi\to0}\frac{-(\boldsymbol{Rp})^\wedge\varphi}{\varphi}=-(\boldsymbol{Rp})^\wedge
\end{aligned}</script><p>我们一般使用扰动模型，因为省去了雅可比近似矩阵的计算。</p>
<p>继续分析SE(3)上的指数映射和李代数定义。</p>
<p>SE(3)对应的李代数定义</p>
<script type="math/tex; mode=display">
\mathfrak{sc}(3)=\left\{\boldsymbol{\xi}=
\begin{bmatrix}
\rho \\
\phi
\end{bmatrix}\in\mathbb{R}^6,\boldsymbol{\rho}\in\mathbb{R}^3,\boldsymbol{\phi}\in\mathfrak{so}(3),\boldsymbol{\xi}^\wedge=
\begin{bmatrix}
\phi^\wedge & \rho \\
\mathbf{0}^\mathrm{T} & 0
\end{bmatrix}\in\mathbb{R}^{4\times4}\right\}</script><p>SE(3)上的李括号定义为</p>
<p>$[\xi_1,\xi_2]=(\xi_1^\wedge\xi_2^\wedge-\xi_2^\wedge\xi_1^\wedge)^\vee$</p>
<p>SE(3)上的指数映射为</p>
<script type="math/tex; mode=display">
\begin{aligned}
\exp\left(\xi^{\wedge}\right) & =
\begin{bmatrix}
\sum_{n=0}^{\infty}\frac{1}{n!}{\left(\phi^{\wedge}\right)}^{n} & \sum_{n=0}^{\infty}\frac{1}{\left(n+1\right)!}{\left(\phi^{\wedge}\right)}^{n}\boldsymbol{\rho} \\
\\
\mathbf{0}^{\mathrm{T}} & 1
\end{bmatrix} \\
& \overset{\Delta}{\operatorname*{=}}
\begin{bmatrix}
R & J\rho \\
\\
\mathbf{0}^\mathrm{T} & 1
\end{bmatrix}=T.
\end{aligned}</script><p>指数映射矩阵11处即SO(3)的指数映射，矩阵12处计算如下</p>
<script type="math/tex; mode=display">
\begin{aligned}
\sum_{n=0}^{\infty}\frac{1}{(n+1)!}(\phi^{\wedge})^{n} & =\boldsymbol{I}+\frac{1}{2!}\theta\boldsymbol{a}^{\wedge}+\frac{1}{3!}\theta^{2}{(\boldsymbol{a}^{\wedge})}^{2}+\frac{1}{4!}\theta^{3}{(\boldsymbol{a}^{\wedge})}^{3}+\frac{1}{5!}\theta^{4}{(\boldsymbol{a}^{\wedge})}^{4}\cdots \\
 & =\frac{1}{\theta}\left(\frac{1}{2!}\theta^{2}-\frac{1}{4!}\theta^{4}+\cdots\right)(\boldsymbol{a}^{\wedge})+\frac{1}{\theta}\left(\frac{1}{3!}\theta^{3}-\frac{1}{5}\theta^{5}+\cdots\right)\left(\boldsymbol{a}^{\wedge}\right)^{2}+\boldsymbol{I} \\
 & =\frac{1}{\theta}\left(1-\cos\theta\right)\left(\boldsymbol{a}^\wedge\right)+\frac{\theta-\sin\theta}{\theta}\left(\boldsymbol{a}\boldsymbol{a}^\mathrm{T}-\boldsymbol{I}\right)+\boldsymbol{I} \\
 & =\frac{\sin\theta}{\theta}\boldsymbol{I}+\left(1-\frac{\sin\theta}{\theta}\right)\boldsymbol{a}\boldsymbol{a}^\mathrm{T}+\frac{1-\cos\theta}{\theta}\boldsymbol{a}^\mathrm{\wedge}\overset{\mathrm{def}}{\operatorname*{=}}\boldsymbol{J}.
\end{aligned}</script><p>11处可以由旋转向量方便求得，12处可以由以下的线性方程</p>
<p>$t=J\rho$</p>
<p>接着我们定义SE(3)的扰动模型如下</p>
<script type="math/tex; mode=display">
\frac{\partial\left(\boldsymbol{T}\boldsymbol{p}\right)}{\partial\delta\boldsymbol{\xi}}=\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{\exp\left(\delta\boldsymbol{\xi}^{\wedge}\right)\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}}{\delta\boldsymbol{\xi}}</script><script type="math/tex; mode=display">
\begin{aligned}
 & =\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{\left(\boldsymbol{I}+\delta\boldsymbol{\xi}^{\wedge}\right)\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}}{\delta\boldsymbol{\xi}} \\
 & =\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{\delta\boldsymbol{\xi}^{\wedge}\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}}{\delta\boldsymbol{\xi}} \\
 & =\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{
\begin{bmatrix}
\delta\boldsymbol{\phi}^\wedge & \delta\boldsymbol{\rho} \\
\mathbf{0}^\mathrm{T} & 0
\end{bmatrix}
\begin{bmatrix}
\boldsymbol{R}\boldsymbol{p}+\boldsymbol{t} \\
 \\
1
\end{bmatrix}}{\delta\boldsymbol{\xi}} \\
 & =\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{
\begin{bmatrix}
\delta\phi^\wedge\left(\boldsymbol{Rp}+\boldsymbol{t}\right)+\delta\boldsymbol{\rho} \\
\mathbf{0}^\mathrm{T}
\end{bmatrix}}{[\delta\boldsymbol{\rho},\delta\boldsymbol{\phi}]^\mathrm{T}}=
\begin{bmatrix}
\boldsymbol{I} & -\left(\boldsymbol{Rp}+\boldsymbol{t}\right)^\wedge \\
\mathbf{0}^\mathrm{T} & \mathbf{0}^\mathrm{T}
\end{bmatrix}\overset{\mathrm{def}}{\operatorname*{=}}\left(\boldsymbol{Tp}\right)^\odot
\end{aligned}</script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">John Doe</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/')">title</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=title&amp;url=http://example.com/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/01/24/test/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">测试发布</div></div></a></div><div class="next-post pull-right"><a href="/2025/02/13/hello-world/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Hello World</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="D:/blog/source/img/作者卡片.jpg" alt="status"/></div></div><div class="author-info__description"></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E7%BB%B4%E7%A9%BA%E9%97%B4%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8"><span class="toc-number">1.</span> <span class="toc-text">三维空间刚体运动</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9A%E4%BD%93"><span class="toc-number">1.1.</span> <span class="toc-text">刚体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8-PART1-%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5"><span class="toc-number">1.2.</span> <span class="toc-text">刚体运动(PART1 旋转矩阵)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Preparation%EF%BC%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">Preparation：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%90%91%E9%87%8F%E5%86%85%E5%A4%96%E7%A7%AF-%E7%82%B9%E4%B9%98%E4%B8%8E%E5%8F%89%E4%B9%98"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1.向量内外积(点乘与叉乘)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Research-1%EF%BC%9A%E8%BF%90%E5%8A%A8%E6%8F%8F%E8%BF%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">Research 1：运动描述方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">1.1旋转矩阵</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2%E6%97%8B%E8%BD%AC%E5%90%91%E9%87%8F"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">1.2旋转向量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3%E5%9B%9B%E5%85%83%E6%95%B0"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">1.3四元数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%8A%A0%E6%B3%95%E5%92%8C%E5%87%8F%E6%B3%95"><span class="toc-number">1.2.2.3.1.</span> <span class="toc-text">1.加法和减法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%B9%98%E6%B3%95"><span class="toc-number">1.2.2.3.2.</span> <span class="toc-text">2.乘法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%A8%A1%E9%95%BF"><span class="toc-number">1.2.2.3.3.</span> <span class="toc-text">3.模长</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%85%B1%E8%BD%AD"><span class="toc-number">1.2.2.3.4.</span> <span class="toc-text">4.共轭</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E9%80%86"><span class="toc-number">1.2.2.3.5.</span> <span class="toc-text">5.逆</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-%E6%95%B0%E4%B9%98"><span class="toc-number">1.2.2.3.6.</span> <span class="toc-text">6.数乘</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4%E5%85%B6%E4%BB%96%E5%8F%98%E6%8D%A2"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">1.4其他变换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9A%E4%BD%93%E8%BF%90%E5%8A%A8-PART2-%E6%9D%8E%E7%BE%A4%E4%B8%8E%E6%9D%8E%E4%BB%A3%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">刚体运动(PART2 李群与李代数)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Preparation%EF%BC%9A-1"><span class="toc-number">1.3.1.</span> <span class="toc-text">Preparation：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BE%A4-Group"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">1.群(Group)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%B0%81%E9%97%AD%E6%80%A7%EF%BC%9A"><span class="toc-number">1.3.1.1.1.</span> <span class="toc-text">1.封闭性：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E7%BB%93%E5%90%88%E5%BE%8B%EF%BC%9A"><span class="toc-number">1.3.1.1.2.</span> <span class="toc-text">2.结合律：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%B9%BA%E5%85%83%EF%BC%9A"><span class="toc-number">1.3.1.1.3.</span> <span class="toc-text">3.幺元：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E9%80%86%EF%BC%9A"><span class="toc-number">1.3.1.1.4.</span> <span class="toc-text">4.逆：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9D%8E%E4%BB%A3%E6%95%B0"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">2.李代数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%B0%81%E9%97%AD%E6%80%A7%EF%BC%9A-1"><span class="toc-number">1.3.1.2.1.</span> <span class="toc-text">1.封闭性：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%8F%8C%E7%BA%BF%E6%80%A7%EF%BC%9A"><span class="toc-number">1.3.1.2.2.</span> <span class="toc-text">2.双线性：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E8%87%AA%E5%8F%8D%E6%80%A7%EF%BC%9A"><span class="toc-number">1.3.1.2.3.</span> <span class="toc-text">3.自反性：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E9%9B%85%E5%8F%AF%E6%AF%94%E7%AD%89%E4%BB%B7%EF%BC%9A"><span class="toc-number">1.3.1.2.4.</span> <span class="toc-text">4.雅可比等价：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%9F%A9%E9%98%B5%E6%B1%82%E5%AF%BC"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">3.矩阵求导</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Research-2%EF%BC%9A%E6%9D%8E%E7%BE%A4%E4%B8%8E%E6%9D%8E%E4%BB%A3%E6%95%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">Research 2：李群与李代数</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/13/hello-world/" title="Hello World">Hello World</a><time datetime="2025-02-13T13:47:40.060Z" title="Created 2025-02-13 13:47:40">2025-02-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/07/%E6%97%8B%E9%87%8F%E4%BB%A3%E6%95%B0%E4%B8%8E%E6%9D%8E%E7%BE%A4%E3%80%81%E6%9D%8E%E4%BB%A3%E6%95%B0/" title="title">title</a><time datetime="2025-02-07T16:15:20.386Z" title="Created 2025-02-07 16:15:20">2025-02-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/24/test/" title="测试发布">测试发布</a><time datetime="2025-01-24T09:50:56.315Z" title="Created 2025-01-24 09:50:56">2025-01-24</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2025 By <a class="footer-bar-link" href="/" title="John Doe" target="_blank">John Doe</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">1</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("01/01/2025 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 John Doe 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.cbd.int/mathjax@3.2.2/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>